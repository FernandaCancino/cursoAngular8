<h1>Componente de Coches</h1>

<style>

    div{
        float: left;
    }

    .listado {
        margin-left: 3%
    }

    form{
        width: 200px;
    }

    input[type="text"], span{
        display: block;
        width: 100%;
    }

</style>

<div>
    <!-- para vaciar el formulario una vez insertados los datos utilizamos =  formCoche.reset()-->
    <form #formCoche="ngForm" (ngSubmit)="onSubmit(); formCoche.reset()" >

        <p>
            <label>Nombre:</label>
            <input type="text" name="nombre" #nombre="ngModel" [(ngModel)] = "coche.nombre" required>
            <!-- validando el campo -->
            <span *ngIf="nombre.touched && !nombre.valid">
                El nombre del coche es incorrecto!
            </span>
        </p>

        <p>
            <label>Caballaje:</label>
            <input type="text" name="caballaje" #caballaje="ngModel" [(ngModel)] = "coche.caballaje" required pattern="[0-9]+">
        
            <!-- validando el campo -->
            <span *ngIf="caballaje.touched && !caballaje.valid">
                El nombre de caballaje es incorrecto!
            </span>
        </p>

        <p>
            <label>Color:</label>
            <input type="text" name="color" #color="ngModel" [(ngModel)] = "coche.color" required pattern="[a-zA-Z#]+">

            <!-- validando el campo -->
            <span *ngIf="color.touched && !color.valid">
                El nombre de color es incorrecto!
            </span>
        </p>
        
        <!-- como dejar el boton disabled si no se han llenado los datos del formulario -->
        <input type="submit" value="Guardar"  [disabled]= "!formCoche.form.valid">

    </form>
</div>

<div class="listado">
    <h4>Listado de coches</h4>

    <ul>
        <li *ngFor="let coche of coches">
            {{coche.nombre}} - {{coche.caballaje}} - {{coche.color}}
        </li>
    </ul>

</div>

<div class="listado">
    <h3>Listado de Articulos</h3>
    <!-- para hacer un efecto de 'cargando...' -->
    <ul *ngIf="articulos">
        <li *ngFor="let articulo of articulos">
            {{articulo.userId}} - {{articulo.id}} - {{articulo.title}}
        </li>
    </ul>
    <span *ngIf="!articulos">CARGANDO LISTADO...</span>

</div>

